{% extends "layout.html" %}
{% block content %}
<div class="landing-viewport" style="max-width:450px;margin:auto;">
  <h2 class="page-heading">Reset Your Password</h2>

  {% if hint %}
    <p class="hero-paragraph" style="font-size:0.95rem;color:#444;">
      <strong>Password Hint:</strong> {{ hint }}
    </p>
  {% endif %}

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <p class="flash {{ category }}">{{ message }}</p>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <form method="POST" action="{{ url_for('auth.reset_password') }}" class="login-form">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <input type="hidden" name="email" value="{{ user.email }}">

    <label>Current Password</label>
    <input type="password" name="current_password" required>

    <label>New Password</label>
    <input type="password" name="new_password" required>

    <label>Confirm New Password</label>
    <input type="password" name="confirm_password" required>

    <button type="submit" class="btn btn-primary-blue">Update Password</button>
  </form>

  <p style="text-align:center;margin-top:1rem;">
    <a href="{{ url_for('auth.login') }}">Back to login</a>
  </p>
</div>
{% endblock %}
